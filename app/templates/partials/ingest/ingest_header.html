<!-- app/fastapi/templates/partials/ingest/ingest_header.html @2025-07-11 13:17 JST -->
<div id="ingest-header">
  <!-- REM: モード切替（フォルダ or ファイル） -->
  <label>
    <input type="radio" name="input_mode" value="folder" checked>
    フォルダ指定
  </label>
  <label style="margin-left:10px;">
    <input type="radio" name="input_mode" value="files">
    ファイル指定
  </label>

  <!-- REM: フォルダ選択（初期表示） -->
  <div id="folder-mode" style="margin-top:8px;">
    <label for="input-folder">処理対象フォルダ：</label>
    <input type="text" id="input-folder" name="input_folder"
           value="ignored/input_files" readonly style="width:280px;">
    <button type="button" id="browse-folder">📂 参照</button>
  </div>

  <!-- REM: ファイル選択（非表示） -->
  <div id="files-mode" style="display:none; margin-top:8px;">
    <label for="input-files">処理対象ファイル：</label>
    <input type="file" id="input-files" name="input_files" multiple
           style="width:320px;">
    <textarea id="selected-files-display" readonly
      placeholder="選択したファイル名がここに表示されます"
      style="width:100%; min-height:3em; resize:vertical; margin-top:4px;">
    </textarea>
  </div>

  <!-- REM: サブフォルダ含めるチェック -->
  <label style="margin-left:12px;">
    <input type="checkbox" id="include-subdirs" name="include_subdirs" checked>
    サブフォルダも含める
  </label>
</div>

<!-- フォルダブラウズ用モーダル -->
{% include "partials/ingest/folder_modal.html" %}

<!-- スクリプト読み込み -->
<script src="{{ url_for('static', path='js/ingest.js') }}"></script>
