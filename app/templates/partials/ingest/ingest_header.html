<!-- REM: app/templates/partials/ingest/ingest_header.html @2025-07-18 00:00 UTC +9 -->
<div id="ingest-header" style="display: flex; flex-direction: column; gap:0.2em;">
  <!-- REM: ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ï¼ˆãƒ•ã‚©ãƒ«ãƒ€ or ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ -->
  <div style="display: flex; align-items: center; gap:1em;">
    <label>
      <input type="radio" name="input_mode" value="folder" checked>
      ãƒ•ã‚©ãƒ«ãƒ€æŒ‡å®šï¼ˆ<input type="checkbox" id="include-subdirs" name="include_subdirs" checked> ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€ã‚‚å«ã‚ã‚‹ï¼‰
    </label>
    <label>
      <input type="radio" name="input_mode" value="files">
      ãƒ•ã‚¡ã‚¤ãƒ«æŒ‡å®š
    </label>
  </div>

  <!-- REM: ãƒ•ã‚©ãƒ«ãƒ€é¸æŠï¼ˆåˆæœŸè¡¨ç¤ºï¼‰ -->
  <div id="folder-mode" style="display: flex; align-items: center; gap: 0.5em; margin-left: 1.5em;">
    <label for="input-folder" style="min-width: 140px;">å‡¦ç†å¯¾è±¡ãƒ•ã‚©ãƒ«ãƒ€ï¼š</label>
    <div style="display: flex; align-items: center; gap: 8px; flex: 1;">
      <textarea id="input-folder" name="input_folder" readonly
                style="width: 300px; min-width: 200px; max-width: 600px; height: 1.5em; resize: horizontal; 
                       padding: 4px 8px; box-sizing: border-box; font-family: inherit; font-size: inherit; 
                       line-height: 1.2; overflow: hidden; vertical-align: top;"
                >ignored/input_files</textarea>
      <button type="button" id="browse-folder" 
              style="padding: 4px 8px; flex-shrink: 0; height: 2em;">ğŸ“‚</button>
    </div>
  </div>

  <!-- REM: ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠï¼ˆéè¡¨ç¤ºï¼‰ -->
  <div id="files-mode" style="display:none; flex-direction: column; gap: 0.2em; margin-left: 1.5em;">
    <div style="display: flex; align-items: center; gap: 0.5em;">
      <label for="input-files">å‡¦ç†å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ï¼š</label>
      <input type="file" id="input-files" name="input_files" multiple style="flex: 1;">
    </div>
    <!-- é¸æŠã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«åè¡¨ç¤ºï¼ˆå‡¦ç†å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ï¼šã®ä¸‹ã«é…ç½®ï¼‰ -->
    <div style="display: flex; align-items: flex-start; gap: 0.5em;">
      <div style="min-width: 120px;"></div> <!-- ãƒ©ãƒ™ãƒ«å¹…åˆ†ã®ã‚¹ãƒšãƒ¼ã‚¹ -->
      <textarea id="selected-files-display" readonly
        placeholder="é¸æŠã—ãŸãƒ•ã‚¡ã‚¤ãƒ«åãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™"
        style="display:none; flex: 1; min-height:3em; resize:vertical; box-sizing: border-box; max-width: calc(100% - 120px);">
      </textarea>
    </div>
  </div>
</div>

{% include "partials/ingest/folder_modal.html" %}