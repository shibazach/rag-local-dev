# R&D RAGシステム プロジェクト概要

## 🎯 プロジェクトの目的

R&D RAGシステムは、企業内の技術文書、研究資料、ナレッジベースを統合的に管理し、AI技術を活用した高度な検索・分析機能を提供するシステムです。

### 主な目標
1. **知識の一元管理**: 散在する技術文書を統合データベースで管理
2. **AI支援検索**: 自然言語での質問に対する高精度な回答
3. **文書処理自動化**: OCRとLLMによる文書の自動整形・構造化
4. **エンタープライズ対応**: セキュリティ、認証、権限管理の実装

## 🏗️ システムアーキテクチャ

### 技術スタック

#### バックエンド
- **フレームワーク**: FastAPI (高速・非同期対応)
- **データベース**: PostgreSQL + pgvector (ベクトル検索対応)
- **ORM**: SQLAlchemy (データベース抽象化)
- **設定管理**: Pydantic (型安全な設定)

#### フロントエンド
- **UIフレームワーク**: NiceGUI (Pythonベース、リアクティブUI)
- **スタイリング**: Tailwind CSS + カスタムCSS
- **コンポーネント**: 独自コンポーネントライブラリ

#### AI/ML
- **LLM**: Ollama (ローカルLLM実行)
- **埋め込みモデル**: SentenceTransformer / Ollama Embeddings
- **OCR**: OCRmyPDF, PyMuPDF
- **テキスト処理**: BERT日本語モデル

### システム構成

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   Webブラウザ    │────▶│   FastAPI App   │────▶│  PostgreSQL DB  │
│   (NiceGUI)     │     │   (app/main.py) │     │   + pgvector    │
└─────────────────┘     └─────────────────┘     └─────────────────┘
                               │
                               ▼
                        ┌─────────────────┐
                        │  サービス層      │
                        ├─────────────────┤
                        │  - OCR処理      │
                        │  - LLM整形      │
                        │  - ベクトル生成  │
                        │  - 検索・分析    │
                        └─────────────────┘
```

## 📋 主要機能

### 1. 文書管理
- **マルチフォーマット対応**: PDF, Word, Text, CSV, JSON, Email
- **自動メタデータ抽出**: ファイル情報の自動取得
- **バージョン管理**: 文書の更新履歴追跡

### 2. 文書処理パイプライン
```
アップロード → OCR処理 → テキスト整形 → チャンク分割 → ベクトル生成 → DB保存
```

- **OCR処理**: 画像PDF、スキャン文書からのテキスト抽出
- **LLM整形**: 誤字修正、構造化、品質向上
- **ベクトル化**: 意味検索用の埋め込みベクトル生成

### 3. 検索・分析
- **セマンティック検索**: 意味に基づく高精度検索
- **RAG (Retrieval-Augmented Generation)**: 検索結果を基にしたAI回答生成
- **ファセット検索**: 複数条件での絞り込み

### 4. ユーザーインターフェース
- **レスポンシブデザイン**: PC・タブレット対応
- **リアルタイム更新**: WebSocketによる即時反映
- **直感的な操作**: ドラッグ&ドロップ、プレビュー機能

### 5. セキュリティ・認証
- **セッション管理**: 安全なユーザー認証
- **権限制御**: ロールベースアクセス制御（RBAC）
- **セキュリティヘッダー**: CSP、XSS対策

## 🔄 処理フロー

### 文書登録フロー
1. ユーザーが文書をアップロード
2. システムがファイル形式を判定
3. 必要に応じてOCR処理を実行
4. LLMによるテキスト整形・品質向上
5. テキストをチャンクに分割
6. 各チャンクのベクトル生成
7. データベースに保存

### 検索・回答フロー
1. ユーザーが自然言語で質問
2. 質問文のベクトル化
3. ベクトル類似度検索
4. 関連文書の取得
5. LLMによる回答生成
6. 結果の表示

## 🎨 UI/UXデザイン

### デザイン原則
1. **情報密度最大化**: 無駄な余白を排除
2. **直感的な操作**: 学習コスト最小化
3. **高速レスポンス**: 非同期処理による体感速度向上
4. **一貫性**: 統一されたコンポーネント使用

### 主要画面
- **ダッシュボード**: システム概要と統計情報
- **データ登録**: ファイルアップロードと処理状況
- **検索・チャット**: AI支援検索インターフェース
- **ファイル管理**: 登録済み文書の管理
- **管理画面**: システム設定とユーザー管理

## 🚀 今後の展開

### 短期計画（3ヶ月）
1. パフォーマンス最適化
2. UIの改善とユーザビリティ向上
3. APIドキュメントの整備

### 中期計画（6ヶ月）
1. マルチモーダルLLM統合（画像・図表理解）
2. 高度な分析機能（トレンド分析、要約生成）
3. 外部システム連携（Slack、Teams等）

### 長期計画（1年）
1. マルチテナント対応
2. クラウドネイティブ化
3. エンタープライズ機能拡充

## 📊 システム要件

### ハードウェア要件
- **CPU**: 4コア以上推奨
- **メモリ**: 16GB以上推奨
- **ストレージ**: 100GB以上（文書量に応じて）
- **GPU**: CUDA対応GPU（オプション、パフォーマンス向上）

### ソフトウェア要件
- **OS**: Linux (Ubuntu 20.04+) / Windows 10+ / macOS
- **Python**: 3.10以上
- **Docker**: 20.10以上（コンテナ環境の場合）
- **PostgreSQL**: 15以上 + pgvector拡張

## 🤝 開発体制

### 開発方針
- **アジャイル開発**: 2週間スプリント
- **コードレビュー**: プルリクエストベース
- **自動テスト**: CI/CDパイプライン
- **ドキュメント駆動**: 設計先行、ドキュメント重視

### コントリビューション
1. Issueで機能提案・バグ報告
2. フォーク&プルリクエスト
3. コーディング規約の遵守
4. テストの追加

## 📞 サポート

### ドキュメント
- 本ドキュメント群を参照
- API仕様書（準備中）
- FAQ（準備中）

### 問い合わせ
- GitHubのIssue
- 社内Slackチャンネル
- メール: rag-support@company.com

---
*最終更新: 2025年1月*